http://iekasegu.work/column.php?no=144

GDを使うとデータが圧縮できました

今回は、PHPから標準で使えるGDというライブラリでリサイズしてみました。 GDが使えるかどうかは、phpinfo();をやってみて、 GDの項目に「enable」となっていれば、使えるようです。

それで最初、imagejpeg()関数をそのまま実行してみました。 widthを3分の1、2分の1とテストしてみましたが、 widthを変更すると、サイズはかなり削減できますね。

そして、試しにwidthはそのままで実行してみると、 画像の縦横のサイズは同じなのですが、データ容量はかなり縮みました。

imagejpeg()関数のデフォルトのクオリティーは75%になっているようで、 同じサイズのままデータの補正が行われるようです。 ただ、75%ですと、粗さが目立ちました。 メモ代わりのものでしたが、もうちょっと画質を良く仕上げたいと思いました。

ちなみに、 元画像は8.4MBぐらいでした。

imagejpeg()関数のクオリティーを100にしてみると、同じように8.4MB

クオリティーを90にすると、2.7MBで画質もわりと良さそうです。

クオリティー88は2.43MB。

クオリティー85は2.1MB。

クオリティー80では1.75MBですが、メモ代わりのものでしたら、これぐらいの画質でも良いかもしれません。

そして、デフォルトの75にすると、1.5MB。かなり圧縮できますね。

画質を確認しながら、 クオリティーを調整していくと良いと思います。 今回は、クオリティーを90にしておきました。 それでも、データはだいぶ圧縮できました。

https://appllio.com/how-to-compress-photo-size-iphone-android
